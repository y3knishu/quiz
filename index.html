<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8" /> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <title>NEET PG Subjects</title> <style> @import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap'); body { margin: 0; font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #ff9a9e, #fad0c4, #fbc2eb, #a18cd1, #fbc2eb, #fad0c4); background-size: 300% 300%; animation: gradientMove 15s ease infinite; color: #fff; } @keyframes gradientMove { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } } header { padding: 10px 20px; display: flex; justify-content: space-between; align-items: center; background: rgba(0, 0, 0, 0.4); } h1 { margin: 0; font-size: 1.5em; } .top-right { display: flex; gap: 10px; } button { padding: 8px 16px; background: #fff; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; } .info { text-align: center; padding: 10px; font-size: 0.9em; background: rgba(0, 0, 0, 0.3); } .subjects { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; padding: 20px; } .card { background: white; color: black; padding: 15px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); position: relative; text-decoration: none; transition: 0.3s; } .card:hover { transform: scale(1.02); } .card-title { font-size: 1.1em; font-weight: bold; } .card-status { margin-top: 6px; font-size: 0.9em; } .locked { opacity: 0.6; } .progress-bar { height: 8px; background: #ccc; border-radius: 20px; margin-top: 10px; overflow: hidden; } .progress-fill { height: 100%; background: #4caf50; width: 0%; transition: width 0.3s ease-in-out; } @media (max-width: 600px) { h1 { font-size: 1.2em; } .card { padding: 10px; } } </style> </head> <body> <header> <h1>NEET PG Quiz</h1> <div class="top-right"> <span id="user-info">ğŸ” Not logged in</span> <button id="loginBtn">Login</button> <button id="logoutBtn" style="display:none">Logout</button> <button id="payBtn">ğŸ’³ Pay â‚¹99</button> </div> </header> <div class="info"> ğŸ”“ Anatomy is free. Pay â‚¹99 to unlock all subjects. </div> <div class="subjects" id="subject-container"></div> <script src="https://checkout.razorpay.com/v1/checkout.js"></script> <script type="module"> import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"; import { getFirestore, doc, getDoc, setDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js"; import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js"; const firebaseConfig = { apiKey: "AIzaSyAMNDoNuqkWfXEGYdwueJb5XTr1ST2ztKc", authDomain: "mcqs-96117.firebaseapp.com", projectId: "mcqs-96117", storageBucket: "mcqs-96117.appspot.com", messagingSenderId: "352256319143", appId: "1:352256319143:web:74b2bd062a7f2dc5f1c582", measurementId: "G-6FZ770H045" }; const app = initializeApp(firebaseConfig); const db = getFirestore(app); const auth = getAuth(app); const userInfo = document.getElementById("user-info"); const loginBtn = document.getElementById("loginBtn"); const logoutBtn = document.getElementById("logoutBtn"); const payBtn = document.getElementById("payBtn"); let isPaid = false; let currentUser = null; const subjects = [ "Anatomy", "Physiology", "Biochemistry", "Pathology", "Pharmacology", "Microbiology", "Forensic Medicine", "Community Medicine", "ENT", "Ophthalmology", "General Medicine", "General Surgery", "Obstetrics & Gynaecology", "Pediatrics", "Orthopaedics", "Dermatology", "Psychiatry", "Respiratory Medicine", "Anesthesiology" ]; const subjectColors = [ "#ffadad", "#ffd6a5", "#fdffb6", "#caffbf", "#9bf6ff", "#a0c4ff", "#bdb2ff", "#ffc6ff", "#fffffc", "#cdeac0", "#ffb5a7", "#fec89a", "#fcd5ce", "#d8e2dc", "#a5a58d", "#b5ead7", "#f28482", "#84a59d", "#f6bd60" ]; const container = document.getElementById("subject-container"); function renderSubjects() { container.innerHTML = ""; subjects.forEach(async (subject, idx) => { const isFree = subject === "Anatomy"; let locked = !isFree && !isPaid; let progress = 0; if (currentUser) { try { const progSnap = await getDoc(doc(db, "user_progress", currentUser.uid + "_" + subject)); if (progSnap.exists()) { const data = progSnap.data(); const attempted = data.attempted || 0; const total = data.total || 1; progress = Math.round((attempted / total) * 100); } } catch (e) { console.warn("Progress error:", e.message); } } const card = document.createElement("a"); card.className = "card"; card.style.background = subjectColors[idx % subjectColors.length]; card.classList.toggle("locked", locked); if (!locked) { card.href = `quiz.html?subject=${encodeURIComponent(subject)}`; } else { card.onclick = (e) => { e.preventDefault(); alert("ğŸ”’ Please login and pay to unlock this subject."); }; } card.innerHTML = ` <div class="card-title">${subject}</div> <div class="card-status">${locked ? "ğŸ”’ Locked" : "âœ… Open"}</div> <div class="progress-bar"><div class="progress-fill" style="width:${progress}%"></div></div> `; container.appendChild(card); }); } loginBtn.onclick = () => window.location.href = "admin-login.html"; logoutBtn.onclick = () => signOut(auth).then(() => location.reload()); payBtn.onclick = () => { if (!currentUser) return alert("Please login to make payment."); const options = { key: "rzp_live_7nZptAUoDrsfRb", amount: 9900, currency: "INR", name: "NEET PG Quiz", description: "Unlock all subjects", handler: async function (response) { alert("âœ… Payment successful!"); await setDoc(doc(db, "users", currentUser.uid), { isPaid: true }, { merge: true }); isPaid = true; payBtn.style.display = "none"; renderSubjects(); }, theme: { color: "#3399cc" } }; new Razorpay(options).open(); }; onAuthStateChanged(auth, async (user) => { currentUser = user; if (user) { loginBtn.style.display = "none"; logoutBtn.style.display = "inline-block"; userInfo.textContent = `ğŸ‘¤ ${user.email}`; const snap = await getDoc(doc(db, "users", user.uid)); if (snap.exists() && snap.data().isPaid) { isPaid = true; payBtn.style.display = "none"; } } else { logoutBtn.style.display = "none"; loginBtn.style.display = "inline-block"; payBtn.style.display = "inline-block"; } renderSubjects(); }); </script> </body> </html>
